{% extends "main.html.twig" %}

{% block outerBody %}

    <script type="text/javascript">
        $(document).ready(function () {
            {% for type, flash_messages in app.session.flashBag.all %}
            {% for flash_message in flash_messages %}
            notify('{{ flash_message|trans }}', '{{ type|replace({ ("fos_user_success"): "success" }) }}');
            {% endfor %}
            {% endfor %}

            {% if form is defined %}
            {% if not form.vars.valid %}
            notify('{{ 'app.form.not_valid'|trans }}', 'danger');
            {% endif %}
            {% endif %}
        });
    </script>

    {% block navigation %}{% endblock %}

    {% if header is defined %}
        <div class="page-header">
            <h2>
                {{ header|trans }}
            </h2>
        </div>
    {% endif %}

    <div class="subnavigation margin-bottom-20">
        {% block subnavigation %}{% endblock %}
    </div>

    {% block body %}
    {% endblock %}

    <div class="loader">
        <div class="loader-overlay"></div>
        <div class="loader-center">
            <div><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span></div>
            <div class="loader-text"><span>LOADING...</span></div>
        </div>
    </div>

{% endblock %}
