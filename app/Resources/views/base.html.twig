{% extends "main.html.twig" %}

{% block outerBody %}

    <script type="text/javascript">
        $(document).ready(function () {
            {% for type, flash_messages in app.session.flashBag.all %}
            {% for flash_message in flash_messages %}
            notify('{{ flash_message|trans }}', '{{ type|replace({ ("fos_user_success"): "success" }) }}');
            {% endfor %}
            {% endfor %}

            {% if form is defined %}
            {% if not form.vars.valid %}
            notify('{{ 'app.form.not_valid'|trans }}', 'danger');
            {% endif %}
            {% endif %}
        });
    </script>

    {% block navigation %}{% endblock %}
    <div class="page-header">
        <h2>
            {% block header %}{% endblock %}
        </h2>
    </div>

    <div class="subnavigation margin-bottom-20">
        {% block subnavigation %}{% endblock %}
    </div>
    {#
            {% if form is defined %}
                {% if not form.vars.valid %}
                    <div class="alert alert-danger">{{ 'app.form.not_valid'|trans }}</div>
                    #}
    {#
    <ul>
        {% for child in form.children %}
            {%for error in child.vars.errors%}
                <li>{{error.message}}</li>
            {%endfor%}
        {%endfor%}
    </ul>
    #}
    {#
    {%endif%}
    {%endif%}
    #}

    {% block body %}
    {% endblock %}

    <div class="loader">
        <div class="loader-overlay"></div>
        <div class="loader-center">
            <div><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span></div>
            <div class="loader-text"><span>LOADING...</span></div>
        </div>
    </div>

{% endblock %}
