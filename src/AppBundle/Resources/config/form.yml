parameters:
    app.title_selector.form.type.class:                 AppBundle\Form\Type\TitleFieldType
    app.country_selector.form.type.class:               AppBundle\Form\Type\CountryFieldType
    app.timezone_selector.form.type.class:              AppBundle\Form\Type\TimezoneFieldType
    app.state_selector.form.type.class:                 AppBundle\Form\Type\StateFieldType
    app.patient_selector.form.type.class:               AppBundle\Form\Type\PatientFieldType
    app.subscription_selector.form.type.class:          AppBundle\Form\Type\SubscriptionFieldType
    app.patient.form.type.class:                        AppBundle\Form\Type\PatientType
    app.patient_compact.form.type.class:                AppBundle\Form\Type\PatientCompactType
    app.patient_notifications.form.type.class:          AppBundle\Form\Type\PatientNotificationsType
    app.patient_alert.form.type.class:                  AppBundle\Form\Type\PatientAlertType
    app.related_patient.form.type.class:                AppBundle\Form\Type\RelatedPatientType
    app.phone.form.type.class:                          AppBundle\Form\Type\PhoneType
    app.treatment_note_template.form.type.class:        AppBundle\Form\Type\TreatmentNoteTemplateType
    app.product.form.type.class:                        AppBundle\Form\Type\ProductType
    app.treatment.form.type.class:                      AppBundle\Form\Type\TreatmentType
    app.price_field.form.type.class:                    AppBundle\Form\Type\PriceFieldType
    app.invoice.form.type.class:                        AppBundle\Form\Type\InvoiceType
    app.invoice_due_date_selector.form.type.class:      AppBundle\Form\Type\InvoiceDueDateFieldType
    app.product_selector.form.type.class:               AppBundle\Form\Type\ProductFieldType
    app.treatment_selector.form.type.class:             AppBundle\Form\Type\TreatmentFieldType
    app.invoice_product.form.type.class:                AppBundle\Form\Type\InvoiceProductType
    app.invoice_treatment.form.type.class:              AppBundle\Form\Type\InvoiceTreatmentType
    app.attachment.form.type.class:                     AppBundle\Form\Type\AttachmentType
    app.colorpicker.form.type.class:                    AppBundle\Form\Type\ColorpickerType
    app.concession.form.type.class:                     AppBundle\Form\Type\ConcessionType
    app.recall_for.form.type.class:                     AppBundle\Form\Type\RecallForType
    app.invoice_payment_method.form.type.class:         AppBundle\Form\Type\InvoicePaymentMethodType
    app.treatment_note.form.type.class:                 AppBundle\Form\Type\TreatmentNoteType
    app.abstract_filter.form.type.class:                AppBundle\Form\Type\Filter\FilterType
    app.patient_filter.form.type.class:                 AppBundle\Form\Type\Filter\PatientFilterType
    app.invoice_filter.form.type.class:                 AppBundle\Form\Type\Filter\InvoiceFilterType
    app.string_filter.form.type.class:                  AppBundle\Form\Type\Filter\StringFilterType
    app.concession_price.form.type.class:               AppBundle\Form\Type\ConcessionPriceType
    app.concession_prices.form.type.class:              AppBundle\Form\Type\ConcessionPricesType
    app.treatment_note_template_fields.form.type.class: AppBundle\Form\Type\TreatmentNoteTemplateFieldsType
    app.treatment_note_fields.form.type.class:          AppBundle\Form\Type\TreatmentNoteFieldsType
    app.appointment.form.type.class:                    AppBundle\Form\Type\AppointmentType
    app.appointment_with_patient.form.type.class:       AppBundle\Form\Type\AppointmentWithPatientType
    app.unavailable_block.form.type.class:              AppBundle\Form\Type\UnavailableBlockType
    app.datetime.form.type.class:                       AppBundle\Form\Type\DateTimeType
    app.date.form.type.class:                           AppBundle\Form\Type\DateType
    app.time.form.type.class:                           AppBundle\Form\Type\TimeType
    app.event.form.type.class:                          AppBundle\Form\Type\EventType
    app.variables_textarea.form.type.class:             AppBundle\Form\Type\VariablesTextareaType
    app.calendar_settings.form.type.class:              AppBundle\Form\Type\CalendarSettingsType
    app.invoice_settings.form.type.class:               AppBundle\Form\Type\InvoiceSettingsType
    app.communications_settings.form.type.class:        AppBundle\Form\Type\CommunicationsSettingsType
    app.event_resources.form.type.class:                AppBundle\Form\Type\EventResourcesType
    app.invoice_payment.form.type.class:                AppBundle\Form\Type\InvoicePaymentType
    app.recall.form.type.class:                         AppBundle\Form\Type\RecallType
    app.recurring_task.form.type.class:                 AppBundle\Form\Type\RecurringTaskType
    app.treatment_filter.form.type.class:               AppBundle\Form\Type\Filter\TreatmentFilterType
    app.invoice_logo.form.type.class:                   AppBundle\Form\Type\InvoiceLogoType

services:

############################ Entity form types ############################

    app.patient.form.type:
        class: '%app.patient.form.type.class%'
        arguments:
            - "@app.hasher"
            - '@doctrine.orm.entity_manager'
        tags:
            - { name: form.type, alias: app_patient}

    app.patient.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_patient'
            - '%app.patient.form.type.class%'

#---------------------------------------------------------------------------

    app.calendar_settings.form.type:
        class: '%app.calendar_settings.form.type.class%'
        arguments:
            - '@app.formatter'
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_calendar_settings}

    app.calendar_settings.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_calendar_settings'
            - '%app.calendar_settings.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_settings.form.type:
        class: '%app.invoice_settings.form.type.class%'
        arguments:
            - '@app.formatter'
            - '@translator.default'
            - '@doctrine.orm.entity_manager'
        tags:
            - { name: form.type, alias: app_invoice_settings}

    app.invoice_settings.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice_settings'
            - '%app.invoice_settings.form.type.class%'

#---------------------------------------------------------------------------

    app.communications_settings.form.type:
        class: '%app.communications_settings.form.type.class%'
        arguments:
            - '@app.formatter'
            - '@translator.default'
            - '@doctrine.orm.entity_manager'
        tags:
            - { name: form.type, alias: app_communications_settings}

    app.communications_settings.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_communications_settings'
            - '%app.communications_settings.form.type.class%'

#---------------------------------------------------------------------------

    app.patient_compact.form.type:
        class: '%app.patient_compact.form.type.class%'
        arguments:
            - "@app.hasher"
            - '@doctrine.orm.entity_manager'
        tags:
            - { name: form.type, alias: app_patient_compact}

    app.patient_compact.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_patient_compact'
            - '%app.patient_compact.form.type.class%'

#---------------------------------------------------------------------------

    app.patient_notifications.form.type:
        class: '%app.patient_notifications.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_patient_notifications}

    app.patient_notifications.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_patient_notifications'
            - '%app.patient_notifications.form.type.class%'

#---------------------------------------------------------------------------

    app.patient_alert.form.type:
        class: '%app.patient_alert.form.type.class%'
        tags:
            - { name: form.type, alias: app_patient_alert}

    app.patient_alert.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_patient_alert'
            - '%app.patient_alert.form.type.class%'

#---------------------------------------------------------------------------

    app.phone.form.type:
        class: '%app.phone.form.type.class%'
        tags:
            - { name: form.type, alias: app_phone}

    app.phone.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_phone'
            - '%app.phone.form.type.class%'

#---------------------------------------------------------------------------

    app.related_patient.form.type:
        class: '%app.related_patient.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_related_patient}

    app.related_patient.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_related_patient'
            - '%app.related_patient.form.type.class%'

#---------------------------------------------------------------------------

    app.treatment_note_template.form.type:
        class: '%app.treatment_note_template.form.type.class%'
        tags:
            - { name: form.type, alias: app_treatment_note_template}

    app.treatment_note_template.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_treatment_note_template'
            - '%app.treatment_note_template.form.type.class%'

#---------------------------------------------------------------------------

    app.product.form.type:
        class: '%app.product.form.type.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
        tags:
            - { name: form.type, alias: app_product}

    app.product.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_product'
            - '%app.product.form.type.class%'

#---------------------------------------------------------------------------

    app.concession.form.type:
        class: '%app.concession.form.type.class%'
        tags:
            - { name: form.type, alias: app_concession}

    app.concession.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_concession'
            - '%app.concession.form.type.class%'

#---------------------------------------------------------------------------

    app.recall_for.form.type:
        class: '%app.recall_for.form.type.class%'
        tags:
            - { name: form.type, alias: app_recall_for}

    app.recall_for.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_recall_for'
            - '%app.recall_for.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_payment_method.form.type:
        class: '%app.invoice_payment_method.form.type.class%'
        tags:
            - { name: form.type, alias: app_invoice_payment_method}

    app.invoice_payment_method.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice_payment_method'
            - '%app.invoice_payment_method.form.type.class%'

#---------------------------------------------------------------------------

    app.treatment_note.form.type:
        class: '%app.treatment_note.form.type.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - "@app.hasher"
            - '@request_stack'
            - '@app.formatter'
            - '@translator.default'
            - '@app.treatment_note_utils'
            - '@app.event_utils'
        tags:
            - { name: form.type, alias: app_treatment_note}

    app.treatment_note.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_treatment_note'
            - '%app.treatment_note.form.type.class%'

#---------------------------------------------------------------------------

    app.treatment.form.type:
        class: '%app.treatment.form.type.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@app.event_utils'
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_treatment}

    app.treatment.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_treatment'
            - '%app.treatment.form.type.class%'

#---------------------------------------------------------------------------

    app.event.form.type:
        class: '%app.event.form.type.class%'
        abstract: true
        arguments:
            - '@app.event_utils'
            - '@app.formatter'
            - '@app.entity_factory'
        tags:
            - { name: form.type, alias: app_event}

    app.event.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_event'
            - '%app.event.form.type.class%'

#---------------------------------------------------------------------------

    app.appointment.form.type:
        parent: 'app.event.form.type'
        class: '%app.appointment.form.type.class%'
        tags:
            - { name: form.type, alias: app_appointment}

    app.appointment.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_appointment'
            - '%app.appointment.form.type.class%'

#---------------------------------------------------------------------------

    app.appointment_with_patient.form.type:
        parent: 'app.event.form.type'
        class: '%app.appointment_with_patient.form.type.class%'
        tags:
            - { name: form.type, alias: app_appointment_with_patient}

    app.appointment_with_patient.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_appointment_with_patient'
            - '%app.appointment_with_patient.form.type.class%'

#---------------------------------------------------------------------------

    app.unavailable_block.form.type:
        class: '%app.unavailable_block.form.type.class%'
        parent: 'app.event.form.type'
        calls:
            - ["setTokenStorage",["@security.token_storage"]]
            - ["setEntityManager",["@doctrine.orm.entity_manager"]]
        tags:
            - { name: form.type, alias: app_unavailable_block}

    app.unavailable_block.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_unavailable_block'
            - '%app.unavailable_block.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice.form.type:
        class: '%app.invoice.form.type.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@translator.default'
            - "@security.token_storage"
        tags:
            - { name: form.type, alias: app_invoice}

    app.invoice.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice'
            - '%app.invoice.form.type.class%'

#---------------------------------------------------------------------------

    app.recall.form.type:
        class: '%app.recall.form.type.class%'
        arguments:
            - "@security.token_storage"
            - "@app.templater"
        tags:
            - { name: form.type, alias: app_recall}

    app.recall.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_recall'
            - '%app.recall.form.type.class%'

#---------------------------------------------------------------------------

    app.recurring_task.form.type:
        class: '%app.recurring_task.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_recurring_task}

    app.recurring_task.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_recurring_task'
            - '%app.recurring_task.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_payment.form.type:
        class: '%app.invoice_payment.form.type.class%'
        tags:
            - { name: form.type, alias: app_invoice_payment}

    app.invoice_payment.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice_payment'
            - '%app.invoice_payment.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_product.form.type:
        class: '%app.invoice_product.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_invoice_product}

    app.invoice_product.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice'
            - '%app.invoice_product.form.type.class%'

#---------------------------------------------------------------------------

    app.concession_price.form.type:
        class: '%app.invoice_product.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_concession_price}

    app.concession_price.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_concession_price'
            - '%app.concession_price.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_treatment.form.type:
        class: '%app.invoice_treatment.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_invoice_treatment}

    app.invoice_treatment.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice'
            - '%app.invoice_treatment.form.type.class%'

#---------------------------------------------------------------------------

    app.attachment.form.type:
        class: '%app.attachment.form.type.class%'
        tags:
            - { name: form.type, alias: app_attachment}

    app.attachment.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_attachment'
            - '%app.attachment.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_logo.form.type:
        class: '%app.invoice_logo.form.type.class%'
        tags:
            - { name: form.type, alias: app_invoice_logo}

    app.invoice_logo.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice_logo'
            - '%app.invoice_logo.form.type.class%'

############################ Field types ############################

    app.country_selector.form.type:
        class: '%app.country_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_country_selector}

    app.variables_textarea.form.type:
        class: '%app.variables_textarea.form.type.class%'
        tags:
            - { name: form.type, alias: app_variables_textarea}

    app.title_selector.form.type:
        class: '%app.title_selector.form.type.class%'
        tags:
            - { name: form.type, alias: app_title_selector}

    app.colorpicker.form.type:
        class: '%app.colorpicker.form.type.class%'
        tags:
            - { name: form.type, alias: app_colorpicker}

    app.timezone_selector.form.type:
        class: '%app.timezone_selector.form.type.class%'
        tags:
            - { name: form.type, alias: app_timezone_selector}

    app.subscription_selector.form.type:
        class: '%app.subscription_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_subscription_selector}

    app.state_selector.form.type:
        class: '%app.state_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_state_selector}

    app.patient_selector.form.type:
        class: '%app.patient_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_patient_selector}

    app.datetime.form.type:
        class: '%app.datetime.form.type.class%'
        arguments:
            - "@app.formatter"
        tags:
            - { name: form.type, alias: app_datetime}

    app.date.form.type:
        class: '%app.date.form.type.class%'
        arguments:
            - "@app.formatter"
        tags:
            - { name: form.type, alias: app_date}

    app.time.form.type:
        class: '%app.time.form.type.class%'
        arguments:
            - "@app.formatter"
            - "@security.token_storage"
        tags:
            - { name: form.type, alias: app_time}

    app.price_field.form.type:
        class: '%app.price_field.form.type.class%'
        tags:
            - { name: form.type, alias: app_price}

    app.invoice_due_date_selector.form.type:
        class: '%app.invoice_due_date_selector.form.type.class%'
        tags:
            - { name: form.type, alias: app_invoice_due_date_selector}

    app.product_selector.form.type:
        class: '%app.product_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_product_selector}

    app.treatment_selector.form.type:
        class: '%app.treatment_selector.form.type.class%'
        arguments:
            - "@app.hasher"
        tags:
            - { name: form.type, alias: app_treatment_selector}

    app.concession_prices.form.type:
        class: '%app.concession_prices.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_concession_prices}

    app.treatment_note_template_fields.form.type:
        class: '%app.treatment_note_template_fields.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_treatment_note_template_fields}

    app.event_resources.form.type:
        class: '%app.event_resources.form.type.class%'
        tags:
            - { name: form.type, alias: app_event_resources}

    app.treatment_note_fields.form.type:
        class: '%app.treatment_note_fields.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_treatment_note_fields}

############################ Filter types ############################

    app.abstract_filter.form.type:
        class: '%app.abstract_filter.form.type.class%'
        arguments:
            - '@translator.default'
        tags:
            - { name: form.type, alias: app_filter}

    app.abstract_filter.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_filter'
            - '%app.abstract_filter.form.type.class%'

#---------------------------------------------------------------------------

    app.patient_filter.form.type:
        class: '%app.patient_filter.form.type.class%'
        parent: 'app.abstract_filter.form.type'
        tags:
            - { name: form.type, alias: app_patient_filter}

    app.patient_filter.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_patient_filter'
            - '%app.patient_filter.form.type.class%'

#---------------------------------------------------------------------------

    app.treatment_filter.form.type:
        class: '%app.treatment_filter.form.type.class%'
        parent: 'app.abstract_filter.form.type'
        tags:
            - { name: form.type, alias: app_treatment_filter}

    app.treatment_filter.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_treatment_filter'
            - '%app.treatment_filter.form.type.class%'

#---------------------------------------------------------------------------

    app.invoice_filter.form.type:
        class: '%app.invoice_filter.form.type.class%'
        parent: 'app.abstract_filter.form.type'
        tags:
            - { name: form.type, alias: app_invoice_filter}

    app.invoice_filter.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_invoice_filter'
            - '%app.invoice_filter.form.type.class%'

#---------------------------------------------------------------------------

    app.string_filter.form.type:
        class: '%app.string_filter.form.type.class%'
        parent: 'app.abstract_filter.form.type'
        tags:
            - { name: form.type, alias: app_string_filter}

    app.string_filter.form:
        class: Symfony\Component\Form\Form
        factory: ['@form.factory', createNamed]
        arguments:
            - 'app_string_filter'
            - '%app.string_filter.form.type.class%'
