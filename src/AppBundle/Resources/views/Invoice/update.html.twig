{% extends '@App/Invoice/layout.html.twig' %}
{% set subheader = 'app.invoice.label'|trans ~ ' #' ~ entity %}

{% set buttons %}
    {% set cancelPath = entity.id ? path('invoice_view', {'id':app_hash(entity)}) : path('invoice_index') %}
    {% if backToPatient is defined %}
        {% set cancelPath = entity.id ? path('invoice_view', {'id':app_hash(entity)}) : path('patient_invoice_index',{'id':app_hash(entity.patient)}) %}
    {% endif %}

    <button type="submit" onclick="$('form[name={{ form.vars.name }}]').trigger('submit'); return false;"
            class="btn btn-labeled btn-success"><span
                class="btn-label"><i
                    class="glyphicon glyphicon-ok"></i></span>{{ 'app.action.save'|trans }}</button>

    <a href="{{ cancelPath }}" class="btn btn-labeled btn-danger"><span
                class="btn-label"><i
                    class="glyphicon glyphicon-remove"></i></span>{{ 'app.action.cancel'|trans }}</a>
{% endset %}

{% block body %}
    <div class="subpage-titlebar">
        {% if subheader is defined %}
            <h2 class="subpage-title hidden-xs hidden-sm">{{ subheader|trans }}</h2>
        {% endif %}

        <div class="subpage-actions">
            {{ buttons }}
        </div>
    </div>

    <section class="content-panel">
        {{ form_start(form) }}

        {% include "@App/Invoice/include/update.html.twig" %}

        {{ form_end(form, {'render_rest': false}) }}

        {{ buttons }}
    </section>

{% endblock %}
