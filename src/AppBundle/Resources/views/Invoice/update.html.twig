{% extends 'inner.html.twig' %}
{% set header = entity.id ? 'app.invoice.label'|trans ~ ' ' ~ entity : 'app.invoice.new'|trans %}
{% set headerIcon = 'title-invoices' %}

{% set buttons %}
    {% set cancelPath = entity.id ? path('invoice_view', {'id':app_hash(entity)}) : path('invoice_index') %}
    {% if backToPatient is defined %}
        {% set cancelPath = entity.id ? path('invoice_view', {'id':app_hash(entity)}) : path('patient_invoice_index',{'id':app_hash(entity.patient)}) %}
    {% endif %}

    <button type="submit" onclick="$('form[name={{ form.vars.name }}]').trigger('submit');"
            class="btn btn-labeled btn-success"><span
                class="btn-label"><i
                    class="glyphicon glyphicon-ok"></i></span>{{ 'app.action.save'|trans }}</button>

    <a href="{{ cancelPath }}" class="btn btn-labeled btn-danger"><span
                class="btn-label"><i
                    class="glyphicon glyphicon-remove"></i></span>{{ 'app.action.cancel'|trans }}</a>
{% endset %}

{% block pageActions %}
    {{ buttons }}
{% endblock %}

{% block body %}
    <section class="content-panel">
        {{ form_start(form) }}

        {% include "@App/Invoice/include/update.html.twig" %}

        {{ form_end(form, {'render_rest': false}) }}

        {{ buttons }}
    </section>
{% endblock %}
